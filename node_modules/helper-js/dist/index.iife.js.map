{"version":3,"file":"index.iife.js","sources":["../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/.pnpm/regenerator-runtime@0.13.9/node_modules/regenerator-runtime/runtime.js","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/regenerator/index.js","../src/index.ts","../node_modules/.pnpm/@babel+runtime@7.17.9/node_modules/@babel/runtime/helpers/esm/inherits.js"],"sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","// ## base functions\n// ## 基础方法\n\n/**\n * get global, such as window in browser.\n * 返回顶级全局变量. 例如浏览器的`window`\n * @returns\n */\nexport function glb(): typeof globalThis {\n  try {\n    // `this` !== global or window because of build tool. So you can't use `this` to get `global`\n    return window;\n  } catch (error) {\n    // @ts-ignore\n    return global;\n  }\n}\n\n/**\n * detect if global variable `document` existing.\n * 判断全局变量`document`是否存在\n * @returns\n */\nexport function isDocumentExisted() {\n  try {\n    let t = document;\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n\nexport function isArray<T>(v: unknown): v is any[] {\n  return Object.prototype.toString.call(v) === \"[object Array]\";\n}\nexport function isBool(v: unknown): v is boolean {\n  return Object.prototype.toString.call(v) === \"[object Boolean]\";\n}\nexport function isNumber(v: unknown): v is number {\n  return Object.prototype.toString.call(v) === \"[object Number]\";\n}\nexport function isNumeric(v: unknown): v is string {\n  try {\n    // @ts-ignore\n    return isFinite(v) && !isNaN(parseFloat(v));\n  } catch (error) {\n    return false;\n  }\n}\nexport function isString(v: unknown): v is string {\n  return Object.prototype.toString.call(v) === \"[object String]\";\n}\nexport function isObject(v: unknown): v is object {\n  return Object.prototype.toString.call(v) === \"[object Object]\";\n}\nexport function isFunction(v: unknown): v is Function {\n  return typeof v === \"function\";\n}\nexport function isPromise(v: unknown): v is Promise<any> {\n  return Object.prototype.toString.call(v) === \"[object Promise]\";\n}\n\n/**\n * detect if argumrnt is null, undefined, empty array, empty string, false, NaN, empty object\n * 检查是否是null, undefined, 空数组, 空字符串, false, NaN, 空对象\n * @param v\n * @returns\n */\nexport function empty(\n  v: null | undefined | boolean | number | object | unknown[]\n) {\n  if (v == null) {\n    return true;\n  } else if (v[\"length\"] != null) {\n    return v[\"length\"] === 0;\n  } else if (isBool(v)) {\n    return false;\n  } else if (isNumber(v)) {\n    return isNaN(v);\n  } else if (isObject(v)) {\n    return Object.keys(v).length === 0;\n  }\n}\n\n/**\n * rand int in range, including min and max\n * 返回指定范围随机整数, 包括范围起始值和终止值\n * @param min\n * @param max\n * @returns\n */\nexport function randInt(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * rand item in array\n * 返回数组随机一项\n * @param arr\n * @returns\n */\nexport function randChoice<T>(arr: string | T[]): string | T {\n  return arr[randInt(0, arr.length - 1)] as T;\n}\n\n/**\n * Pad a string to a certain length with another string\n * 左边补充指定字符, 使其达到指定长度\n * @param str\n * @param n\n * @param padString\n * @returns\n */\nexport function strPad(str: number | string, n: number, padString = \"0\") {\n  let r = str.toString();\n  let len = str.toString().length;\n  while (len < n) {\n    r = padString + r;\n    len++;\n  }\n  if (r.length > n) {\n    r = r.substring(r.length - n);\n  }\n  return str;\n}\n\n/**\n * If n less than `min`, return `min`, else n.\n * 如果n小于min, 返回min, 否则n.\n * @param n\n * @param min\n * @returns\n */\nexport function notLessThan<T>(n: T, min: T) {\n  return n < min ? min : n;\n}\n\n/**\n * If n greater than `max`, return `max`, else n.\n * 如果n大于max, 返回max, 否则n.\n * @param n\n * @param max\n * @returns\n */\nexport function notGreaterThan<T>(n: T, max: T) {\n  return n < max ? n : max;\n}\n\n/**\n * limit min and max of value.\n * 限制值的最小和最大值.\n * @param n\n * @param min\n * @param max\n * @returns\n */\nexport function between<T>(n: T, min: T, max: T) {\n  return notGreaterThan(notLessThan(n, min), max);\n}\n\n// ## string\n// ## 字符串\n\n/**\n * 'abc abc' to 'Abc abc'\n * @param str\n * @returns\n */\nexport function studlyCase(str: string) {\n  return str && str[0].toUpperCase() + str.substring(1);\n}\n\n/**\n * To lower case and use `-` as delimiter. example: '-ABC abc_def camelCase-- helloMyFriend' to 'a-b-c-abc-def-camel-case-hello-my-friend'\n * @param str\n * @returns\n */\nexport function kebabCase(str: string) {\n  return str\n    .replace(/ /g, \"-\")\n    .replace(/_/g, \"-\")\n    .replace(/(?<=[a-z])([A-Z])/g, \"-$1\")\n    .replace(/--+/g, \"-\")\n    .replace(/^-|-$|/g, \"\")\n    .toLowerCase();\n}\n\n/**\n * To lower case and use `_` as delimiter.\n * @param str\n * @returns\n */\nexport function snakeCase(str: string) {\n  return kebabCase(str).replace(/-/g, \"_\");\n}\n\n/**\n * 'abc-abc-abc_abc' to 'AbcAbcAbcAbc'\n * @param str\n * @returns\n */\nexport function camelCase(str: string) {\n  const temp = kebabCase(str).split(\"-\");\n  for (let i = 1; i < temp.length; i++) {\n    temp[i] = studlyCase(temp[i]);\n  }\n  return temp.join(\"\");\n}\n\n/**\n * 'AbcAbcAbcAbc' to ['Abc', 'Abc', 'Abc', 'Abc']\n * @param str\n * @returns\n */\nexport function camelToWords(str: string) {\n  return str.split(/(?<=[a-z])(?=[A-Z])/g);\n}\n\n/**\n * 'abcAbc' to 'Abc Abc'\n * @param str\n * @returns\n */\nexport function titleCase(str: string) {\n  return camelToWords(studlyCase(camelCase(str))).join(\" \");\n}\n\n/**\n * generate random string\n * 随机字符串\n * @param len default 8\n * @param seeds\n * @returns\n */\nexport function randString(\n  len = 8,\n  seeds:\n    | string\n    | string[] = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n) {\n  let r = \"\";\n  for (let i = 0; i < len; i++) {\n    r += randChoice(seeds);\n  }\n  return r;\n}\n\n/**\n * reverse a string\n * @param str\n * @returns\n */\nexport function reverseString(str: string) {\n  return str.split(\"\").reverse().join(\"\");\n}\n\n// ## Array\n// ## 数组\n\n/**\n * remove item from array. return removed count\n * 从数组删除项. 返回删除计数\n * @param arr\n * @param v\n * @returns\n */\nexport function arrayRemove(arr: any[], v: any) {\n  let index;\n  let count = 0;\n  while ((index = arr.indexOf(v)) > -1) {\n    arr.splice(index, 1);\n    count++;\n  }\n  return count;\n}\n\n/**\n * remove items from array by sorted indexes. indexes example: [0, 2, 6, 8, 9]\n * 通过有序的索引集删除数组项. 索引集例子: [0, 2, 6, 8, 9]\n * @param arr\n * @param sortedIndexes\n */\nexport function arrayRemoveBySortedIndexes(\n  arr: any[],\n  sortedIndexes: number[]\n) {\n  for (let i = sortedIndexes.length - 1; i >= 0; i--) {\n    const index = sortedIndexes[i];\n    arr.splice(index, 1);\n  }\n}\n\n/**\n * get item from array by index. index can be negative number\n * 通过索引获取数组一项. 支持负值索引.\n * @param arr\n * @param n\n * @returns\n */\nexport function arrayAt<T>(arr: T[], n: number) {\n  return arr[n >= 0 ? n : arr.length + n];\n}\n\n/**\n * get first or array\n * 返回数组首项\n * @param arr\n * @returns\n */\nexport function arrayFirst<T>(arr: T[]) {\n  return arr[0];\n}\n\n/**\n * get last of array\n * 返回数组末项\n * @param arr\n * @returns\n */\nexport function arrayLast<T>(arr: T[]) {\n  return arr[arr.length - 1];\n}\n\n/**\n *\n * @param arr1\n * @param arr2\n * @returns [diff1, diff2] diff1: in arr1 not in arr2. diff2: in arr2 not in arr1\n */\nexport function arrayDiff<T>(arr1: T[], arr2: T[]): [T[], T[]] {\n  const m1 = new Map<T, number>();\n  const m2 = new Map<T, number>();\n  for (const item of arr1) {\n    const count = m1.has(item) ? m1.get(item) : 0;\n    m1.set(item, count + 1);\n  }\n  for (const item of arr2) {\n    const count = m2.has(item) ? m2.get(item) : 0;\n    m2.set(item, count + 1);\n  }\n  const r1 = [];\n  const r2 = [];\n  m1.forEach((count, item) => {\n    const diff = count - (m2.has(item) ? m2.get(item) : 0);\n    if (diff > 0) {\n      diff === 1 ? r1.push(item) : r1.push(...new Array(diff).fill(item));\n    }\n  });\n  m2.forEach((count, item) => {\n    const diff = count - (m1.has(item) ? m1.get(item) : 0);\n    if (diff > 0) {\n      diff === 2 ? r2.push(item) : r2.push(...new Array(diff).fill(item));\n    }\n  });\n  return [r1, r2];\n}\n\n/**\n * like indexOf, get all indexes\n * @param strOrArr\n * @param item\n * @returns\n */\nexport function indexesOf(strOrArr: string | any[], item: any) {\n  let i = 0;\n  const indexes: number[] = [];\n  while (i < strOrArr.length) {\n    const index = strOrArr.indexOf(item, i);\n    if (index === -1) {\n      break;\n    } else {\n      indexes.push(index);\n      if (typeof strOrArr === \"string\") {\n        i = index + (item + \"\").length;\n      } else {\n        i = index + 1;\n      }\n    }\n  }\n  return indexes;\n}\n\n/**\n * get array item siblings. Example: getArrayItemSiblings(arr, item, [-1, 1]), get previous and next sibling\n * 获得数组项的多个同级. 例: getArrayItemSiblings(arr, item, [-1, 1]), 获得前一个和后一个\n * @param arr\n * @param item\n * @param offsets\n * @returns\n */\nexport function getArrayItemSiblingsByOffsets<T>(\n  arr: T[],\n  item: any,\n  offsets: number[]\n) {\n  const index = arr.indexOf(item);\n  if (index === -1) {\n    throw \"item is not in array\";\n  }\n  return offsets.map((v) => arr[index + v]);\n}\n\nexport function toArrayIfNot<T>(arrOrNot: T | T[]): T[] {\n  return isArray(arrOrNot) ? arrOrNot : [arrOrNot];\n}\n\n/**\n * Split array every n. n can be getter, which argument is the times.\n * 每n个拆分数组. n可以是方法, 参数是第几次分块\n * @param arr\n * @param n\n * @returns\n */\nexport function splitArray<T>(\n  arr: T[],\n  n: number | ((times: number) => number)\n): T[][] {\n  const r = [];\n  if (isFunction(n)) {\n    const getChunkLength = n;\n    let times = 1;\n    let i = 0;\n    while (i < arr.length) {\n      const n = getChunkLength(times);\n      const end = i + n;\n      r.push(arr.slice(i, end));\n      i = end;\n      times++;\n    }\n  } else {\n    let i = 0;\n    while (i < arr.length) {\n      const end = i + <number>n;\n      r.push(arr.slice(i, end));\n      i = end;\n    }\n  }\n  return r;\n}\n\n/**\n * group array by mark\n * 计算每项的标识, 通过标识将数组项分组.\n * @param arr\n * @param getMark\n * @returns\n */\nexport function groupArray<T, R>(arr: T[], getMark: (item: T) => R) {\n  const groups = new Map<R, T[]>();\n  arr.forEach((v) => {\n    const mark = getMark(v);\n    if (!groups.has(mark)) {\n      groups.set(mark, []);\n    }\n    groups.get(mark).push(v);\n  });\n  return groups;\n}\n\n/**\n * Each item in the new array is unique.\n * 新数组每项唯一.\n * @param arr\n * @param getMark\n * @returns\n */\nexport function arrayDistinct<T>(\n  arr: T[],\n  getMark?: (item: T, index: number) => unknown\n) {\n  const t = new Set();\n  return arr.filter((v, i) => {\n    const mark = getMark ? getMark(v, i) : v;\n    if (!t.has(mark)) {\n      t.add(mark);\n      return true;\n    }\n  });\n}\n\n/**\n * get items from array between 2 indeies. index can be negative\n * 从数组获得一个范围内的项. 范围可以为负.\n * @param arr\n * @param index\n * @param endIndex\n * @returns\n */\nexport function arrayBetween<T>(arr: T[], index: number, endIndex: number) {\n  if (index < 0) {\n    index += arr.length;\n  }\n  if (endIndex < 0) {\n    endIndex += arr.length;\n  }\n  return arr.slice(index, endIndex - index + 1);\n}\n\n/**\n * return new array excluding n items from end\n * 返回新数组排除末尾n项\n * @param arr\n * @param n\n * @returns\n */\nexport function arrayWithoutEnd<T>(arr: T[], n: number = 1) {\n  return arr.slice(0, arr.length - n);\n}\n\n/**\n * get one-dimensional array from multidimensional array\n * 从多维数组获取一维数组\n * @param arr\n * @param depth\n * @returns\n */\nexport function arrayFlat<T>(arr: any[], depth = 10): T[] {\n  const r = [];\n  const rec = (arr, curentDepth) => {\n    for (const item of arr) {\n      if (isArray(item) && curentDepth < depth) {\n        rec(item, curentDepth + 1);\n      } else {\n        r.push(item);\n      }\n    }\n  };\n  rec(arr, 0);\n  return r;\n}\n\n/**\n * simplified array.filter()\n * e.g.: arrayFilter(arr, [null, undefined]) equal to arr.filter(v => v!== null && v!== undefined)\n * @param arr\n * @param without\n * @returns\n */\nexport function arrayFilter<T extends ArrayLike<any>>(\n  arr: T,\n  without: any[]\n): T {\n  // @ts-ignore\n  return arr.filter((v) => without.indexOf(v) === -1);\n}\n/**\n * alias of arrayFilter\n */\nexport const arrayWithout = arrayFilter;\n\n// ## Object\n// ## 对象\n\n/**\n * return JSON.parse(JSON.stringify(obj))\n * @param obj\n * @returns\n */\nexport function cloneObject<T>(obj: T): T {\n  return JSON.parse(JSON.stringify(obj));\n}\n/**\n * like Array.map\n * @param obj\n * @param handler\n * @returns\n */\nexport function objectMap(\n  obj: object,\n  handler: (value: any, key: string, index: number) => any\n): object {\n  const r = {};\n  let i = 0;\n  for (const key in obj) {\n    r[key] = handler(obj[key], key, i);\n    i++;\n  }\n  return r;\n}\n\nexport function objectOnly(obj: object, keys: string[]): object {\n  let keysSet = new Set(keys);\n  const r = {};\n  keysSet.forEach((key) => {\n    r[key] = obj[key];\n  });\n  return r;\n}\n\nexport function objectExcept(obj: object, keys: string[]): object {\n  let keysSet = new Set(keys);\n  const r = {};\n  for (const key in obj) {\n    if (!keysSet.has(key)) {\n      r[key] = obj[key];\n    }\n  }\n  return r;\n}\n\n// loop for Array, Object, NodeList, String\nexport type IterateAllOptions = {\n  reverse?: boolean;\n  exclude?: (\n    info: { value: any; index: number } | { value: any; key: string }\n  ) => boolean;\n};\nexport function* iterateAll<T>(\n  val: string | any[] | object | NodeList | HTMLCollection,\n  opt: IterateAllOptions = {}\n): Generator<{ value: T; index?: number; key?: string }> {\n  // opt: {reverse, exclude}\n  if (!opt.reverse) {\n    // @ts-ignore\n    if (val.length != null) {\n      // @ts-ignore\n      for (let i = 0; i < val.length; i++) {\n        const info = { value: val[i], index: i };\n        if (!opt.exclude || !opt.exclude(info)) {\n          yield info;\n        }\n      }\n    } else if (isObject(val)) {\n      for (const key of Object.keys(val)) {\n        const info = { value: val[key], key };\n        if (!opt.exclude || !opt.exclude(info)) {\n          yield info;\n        }\n      }\n    } else {\n      throw \"Unsupported type\";\n    }\n  } else {\n    // @ts-ignore\n    if (val.length != null) {\n      // @ts-ignore\n      for (let i = val.length - 1; i >= 0; i--) {\n        const info = { value: val[i], index: i };\n        if (!opt.exclude || !opt.exclude(info)) {\n          yield info;\n        }\n      }\n    } else if (isObject(val)) {\n      const keys = Object.keys(val);\n      keys.reverse();\n      for (const key of keys) {\n        const info = { value: val[key], key };\n        if (!opt.exclude || !opt.exclude(info)) {\n          yield info;\n        }\n      }\n    } else {\n      throw \"Unsupported type\";\n    }\n  }\n}\n\nexport type FindAllCallback = (value: any, index: number) => void | boolean;\n/**\n * like Array.find\n * @param list\n * @param callback\n * @param options\n * @returns\n */\nexport function findAll(\n  list: Parameters<typeof iterateAll>[0],\n  callback: FindAllCallback,\n  options?: Parameters<typeof iterateAll>[1]\n) {\n  for (const { value, index } of iterateAll(list, options)) {\n    if (callback(value, index)) {\n      return value as HTMLElement;\n    }\n  }\n}\n\n// example: objectGet(window, 'document.body.children.0') . source: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\n// 例: objectGet(window, 'document.body.children.0') . 参考: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\n/**\n * example: dotGet(window, 'document.body.children.0')\n * @param obj\n * @param path\n * @param throwError\n * @returns\n */\nexport function dotGet(\n  obj: object,\n  path: string | string[],\n  throwError?: boolean\n): any {\n  const paths = isArray(path) ? path : path.split(\".\");\n  let current = obj;\n  try {\n    for (const key of paths) {\n      current = current[key];\n    }\n  } catch (e) {\n    if (throwError) {\n      throw \"Path does not exist\";\n    }\n  }\n  return current;\n}\n\n/**\n * example: dotSet(window, 'document.body.children.0', vaue)\n */\nexport function dotSet(obj: object, path: string | string[], value: any) {\n  const paths = isArray(path) ? path : path.split(\".\");\n  const lastKey = arrayLast(paths);\n  const parent = dotGet(obj, paths.slice(0, paths.length - 1));\n  if (!parent) {\n    throw \"Path does not exist\";\n  }\n  parent[lastKey] = value;\n}\n\n/**\n * try to delete obj[prop]\n * @param obj\n * @param prop\n * @returns\n */\nexport function unset(obj: object, prop: string) {\n  try {\n    delete obj[prop];\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function assignIfNoKey(obj: object, key: string, val: any) {\n  if (!obj.hasOwnProperty(key)) {\n    obj[key] = val;\n  }\n}\nexport function assignIfKeyNull(obj: object, key: string, val: any) {\n  if (obj[key] == null) {\n    obj[key] = val;\n  }\n}\n/**\n * Assign if value different. For assign sensitive, such as Vue.watch.\n * @param obj\n * @param key\n * @param val\n */\nexport function assignIfDiff(obj: object, key: string, val: any) {\n  if (obj[key] !== val) {\n    obj[key] = val;\n  }\n}\nexport function objectAssignIfNoKey<T extends object>(obj1: T, obj2: object) {\n  Object.keys(obj2).forEach((key) => {\n    assignIfNoKey(obj1, key, obj2[key]);\n  });\n  return obj1;\n}\nexport function objectAssignIfKeyNull<T extends object>(obj1: T, obj2: object) {\n  Object.keys(obj2).forEach((key) => {\n    assignIfKeyNull(obj1, key, obj2[key]);\n  });\n  return obj1;\n}\nexport function objectAssignIfDiff<T extends object>(obj1: T, obj2: object) {\n  Object.keys(obj2).forEach((key) => {\n    assignIfDiff(obj1, key, obj2[key]);\n  });\n  return obj1;\n}\n\nexport function withoutUndefined<T extends object>(obj: T) {\n  // @ts-ignore\n  const r: T = {};\n  Object.keys(obj).forEach((key) => {\n    if (obj[key] !== undefined) {\n      r[key] = obj[key];\n    }\n  });\n  return r;\n}\n\n/**\n * proxy a property to another key of this or another object\n * @param targetObj\n * @param targetKey\n * @param sourceObj\n * @param sourceKey\n */\nexport function objectDefineProxyProperty(\n  targetObj: object,\n  targetKey: string,\n  sourceObj: object,\n  sourceKey: string\n) {\n  const info = Object.getOwnPropertyDescriptor(sourceObj, sourceKey);\n  Object.defineProperty(targetObj, targetKey, {\n    get() {\n      return sourceObj[sourceKey];\n    },\n    set(value) {\n      sourceObj[sourceKey] = value;\n    },\n    configurable: true,\n    enumerable: info.enumerable,\n  });\n}\n\nexport type MapObjectTreeHandler = (\n  value: any,\n  key: string | number,\n  parent: object | any[],\n  newParent: object | any[]\n) =>\n  | void\n  | null\n  | undefined\n  | {\n      key?: string;\n      delete?: boolean;\n      value?: any;\n      skip?: boolean; // skip children\n      stop?: boolean;\n    };\n/**\n * walk object and change key, value, delete key. return cloned new object.\n * 深度遍历对象, 可以改变key, value, 删除key. 返回克隆的新对象.\n * @param obj\n * @param handler\n * return null: don't change anything\n * return {delete: true}: delete\n * return {key: newKey}: change key\n * return {value: newValue}: change value\n * return {skip: true}: skip children\n * return {stop: true}: stop\n * @param limit to prevent circular reference.\n * @returns\n */\nexport function mapObjectTree(\n  obj: object,\n  handler: MapObjectTreeHandler,\n  limit = 10000\n): object {\n  let r;\n  let count = 0;\n  const stack = [{ value: obj }];\n  while (stack.length > 0) {\n    if (count >= limit) {\n      throw `mapObjectTree: limit(${limit}) reached, object may has circular reference`;\n    }\n    count++;\n    // @ts-ignore\n    const { value, key, parent, newParent } = stack.shift();\n    const t = handler(value, key, parent, newParent);\n    const assign = (value, key, canPush) => {\n      if (isArray(value)) {\n        value = [];\n      } else if (isObject(value)) {\n        value = {};\n      }\n      if (parent) {\n        if (isArray(newParent) && canPush) {\n          newParent.push(value);\n        } else {\n          newParent[key] = value;\n        }\n      } else {\n        r = value;\n      }\n      // value may changed\n      return value;\n    };\n    let newVal, val, toDelete, stop, skip;\n    if (!t) {\n      // no change\n      val = value;\n      // @ts-ignore\n      newVal = assign(value, key);\n    } else {\n      const { key: key2, value } = t;\n      val = value;\n      // @ts-ignore\n      if (t.delete || key2 === false) {\n        // del\n        toDelete = true;\n      } else if (key2 == null) {\n        // don't change key\n        newVal = assign(value, key, true);\n      } else if (t.hasOwnProperty(\"value\")) {\n        // @ts-ignore\n        newVal = assign(value, key2);\n      }\n      ({ stop, skip } = t);\n    }\n    if (toDelete) {\n      continue;\n    }\n    if (skip) {\n      continue;\n    }\n    if (stop) {\n      break;\n    }\n    if (isArray(val)) {\n      const len = val.length;\n      for (let i = 0; i < len; i++) {\n        // @ts-ignore\n        stack.push({ value: val[i], key: i, parent: val, newParent: newVal });\n      }\n    } else if (isObject(val)) {\n      Object.keys(val).forEach((key) => {\n        // @ts-ignore\n        stack.push({ value: val[key], key, parent: val, newParent: newVal });\n      });\n    }\n  }\n  return r;\n}\n\n/**\n * [{id: 1}, {id: 2}] to {'1':{id: 1}, '2': {id: 2}}\n * @param arr\n * @param idKey\n * @returns\n */\nexport function mapObjects<T>(\n  arr: T[],\n  idKey: string | ((item: T, index: number) => string)\n): { [key: string]: T } {\n  const r = {};\n  const len = arr.length;\n  for (let i = 0; i < len; i++) {\n    const item = arr[i];\n    // @ts-ignore\n    const id = isFunction(idKey) ? idKey(item, i) : item[idKey];\n    r[id] = item;\n  }\n  return r;\n}\n\n/**\n * example: pairRows(users, userProfiles, 'id', 'user_id')\n * @param rows1\n * @param rows2\n * @param key1\n * @param key2\n * @returns [{row1|null, row2|null},...]\n */\nexport function joinRows<T, Y>(\n  rows1: T[],\n  rows2: Y[],\n  key1: string | ((row: T, index: number) => any),\n  key2?: string,\n  ignoreUnmatched?: boolean\n): [T | null, Y | null][] {\n  if (key2 == null) {\n    // @ts-ignore\n    key2 = key1;\n  }\n  const m1 = new Map<unknown, T>();\n  const m2 = new Map<unknown, Y>();\n  const r = [];\n  rows2.forEach((row, index) => {\n    // @ts-ignore\n    const key = typeof key2 === \"function\" ? key2(row, index) : row[key2];\n    m2.set(key, row);\n  });\n  const usedRows2 = new Set();\n  rows1.forEach((row, index) => {\n    // @ts-ignore\n    const key = typeof key1 === \"function\" ? key1(row, index) : row[key1];\n    m1.set(key, row);\n    let row2 = m2.has(key) ? m2.get(key) : null;\n    if (m2.has(key) || !ignoreUnmatched) {\n      r.push([row, row2]);\n      usedRows2.add(row2);\n    }\n  });\n  if (!ignoreUnmatched) {\n    rows2.forEach((row, index) => {\n      // @ts-ignore\n      const key = typeof key2 === \"function\" ? key2(row, index) : row[key2];\n      if (!usedRows2.has(row)) {\n        r.push([null, row]);\n      }\n    });\n  }\n  return r;\n}\n\nexport type TreeDataPath = number[];\nexport type WalkTreeDataHandler<T> = (\n  node: T,\n  index: number,\n  parent: T | null,\n  path: TreeDataPath\n) => void | false | \"skip children\" | \"skip siblings\";\nexport type WalkTreeDataOptions = {\n  childrenKey?: string;\n  reverse?: boolean;\n  childFirst?: boolean;\n};\n/**\n * walk tree data by with depth first search. tree data example: `[{children: [{}, {}]}]`\n * 深度优先遍历树形数据. 树形数据示例: `[{children: [{}, {}]}]`\n * @param obj\n * @param handler\n * @param opt\n */\nexport function walkTreeData<T>(\n  obj: T | T[],\n  handler: WalkTreeDataHandler<T>,\n  opt: WalkTreeDataOptions = {}\n) {\n  opt = objectAssignIfNoKey(\n    { ...opt },\n    {\n      childrenKey: \"children\",\n    }\n  );\n  const { childrenKey } = opt;\n  const rootChildren = isArray(obj) ? obj : [obj];\n  //\n  class StopException {}\n  const func = (children, parent, parentPath) => {\n    if (opt.reverse) {\n      children = children.slice();\n      children.reverse();\n    }\n    const len = children.length;\n    for (let i = 0; i < len; i++) {\n      const item = children[i];\n      const index = opt.reverse ? len - i - 1 : i;\n      const path = parentPath ? [...parentPath, index] : [];\n      let childReturn;\n      if (opt.childFirst) {\n        if (item[childrenKey] != null) {\n          childReturn = func(item[childrenKey], item, path);\n        }\n      }\n      const r = handler(item, index, parent, path);\n      if (r === false) {\n        // stop\n        throw new StopException();\n      } else if (r === \"skip children\") {\n        continue;\n      } else if (r === \"skip siblings\") {\n        break;\n      }\n      if (!opt.childFirst) {\n        if (item[childrenKey] != null) {\n          func(item[childrenKey], item, path);\n        }\n      }\n    }\n  };\n  try {\n    func(rootChildren, null, isArray(obj) ? [] : null);\n  } catch (e) {\n    if (e instanceof StopException) {\n      // stop\n    } else {\n      throw e;\n    }\n  }\n}\nexport type TreeDataNodeInfo<T> = {\n  node: T;\n  index: number;\n  parent: T | null;\n  path: TreeDataPath;\n};\n/**\n * like Array.find\n * @param obj\n * @param handler return true when found.\n * @param opt\n * @returns\n */\nexport function findInfoInTreeData<T>(\n  obj: T | T[],\n  handler: FindTreeDataHandler<T>,\n  opt: FindTreeDataOptions = {}\n): TreeDataNodeInfo<T> | undefined {\n  let r: TreeDataNodeInfo<T>;\n  walkTreeData(\n    obj,\n    (...args) => {\n      if (handler(...args)) {\n        r = {\n          node: args[0],\n          index: args[1],\n          parent: args[2],\n          path: args[3],\n        };\n        return false;\n      }\n    },\n    opt\n  );\n  return r;\n}\n\n/**\n * like Array.find\n * @param obj\n * @param handler return true when found.\n * @param opt\n * @returns\n */\nexport function findTreeData<T>(\n  obj: T | T[],\n  handler: FindTreeDataHandler<T>,\n  opt: FindTreeDataOptions = {}\n): T | undefined {\n  const r = findInfoInTreeData(obj, handler, opt);\n  return r?.node;\n}\nexport type FindTreeDataHandler<T> = ReplaceReturnType<\n  WalkTreeDataHandler<T>,\n  any\n>;\nexport type FindTreeDataOptions = WalkTreeDataOptions;\n\nexport function cloneTreeData<T>(\n  root: T,\n  options?: { childrenKey?: string; nodeHandler?: CloneTreeNodeHandler<any> }\n) {\n  const opt: typeof options = {\n    childrenKey: \"children\",\n  };\n  if (options) {\n    Object.assign(opt, options);\n  }\n  const { childrenKey, nodeHandler } = opt;\n  const td = new TreeData();\n  td.childrenKey = childrenKey;\n  walkTreeData(\n    root,\n    (node, index, parent, path) => {\n      let newNode = Object.assign({}, node);\n      if (newNode[childrenKey]) {\n        newNode[childrenKey] = [];\n      }\n      if (nodeHandler) {\n        newNode = nodeHandler(newNode, { oldNode: node, index, parent, path });\n      }\n      td.set(path, newNode);\n    },\n    { childrenKey }\n  );\n  return td.data as T;\n}\n\nexport type CloneTreeNodeHandler<T> = (\n  node: T,\n  info: {\n    oldNode: T;\n    index: number;\n    parent: T | null;\n    path: TreeDataPath;\n  }\n) => T;\n\n// tree data helpers\nexport class TreeData<Node> {\n  data: Node | Node[];\n  childrenKey = \"children\";\n  // data = null;\n  constructor(data: Node | Node[] = []) {\n    this.data = data;\n  }\n  get rootChildren(): Node[] {\n    const { childrenKey } = this;\n    const { data } = this;\n    return isArray(data) ? data : data[childrenKey];\n  }\n  *iteratePath(\n    path: TreeDataPath,\n    opt: { reverse?: boolean } = {}\n  ): IterableIterator<{ path: TreeDataPath; node: Node }> {\n    const { childrenKey, rootChildren } = this;\n    if (!opt.reverse) {\n      let prevPath: number[] = [];\n      let prevNode;\n      let prevChildren = rootChildren;\n      for (const index of path) {\n        const currentPath = [...prevPath, index];\n        const currentNode = prevChildren[index];\n        yield { path: currentPath, node: currentNode };\n        prevPath = currentPath;\n        prevNode = currentNode;\n        prevChildren = currentNode[childrenKey];\n      }\n    } else {\n      const list = [...this.iteratePath(path, { ...opt, reverse: false })];\n      list.reverse();\n      for (const { path: path0, node } of list) {\n        const path = <TreeDataPath>path0;\n        yield { path, node };\n      }\n    }\n  }\n  getFamily(path: TreeDataPath) {\n    const all: Node[] = [];\n    for (const { node } of this.iteratePath(path)) {\n      all.push(node);\n    }\n    return all;\n  }\n  get(path: TreeDataPath): Node {\n    return arrayLast(this.getFamily(path));\n  }\n  getParentAndIndex(path: TreeDataPath) {\n    const parentPath = path.slice();\n    const index = parentPath.pop();\n    return { parent: this.get(parentPath), index, parentPath };\n  }\n  getParent(path: TreeDataPath) {\n    return this.getParentAndIndex(path).parent;\n  }\n  set(path: TreeDataPath, node: Node) {\n    if (path == null || path.length === 0) {\n      this.data = node;\n    } else {\n      const { childrenKey } = this;\n      let { rootChildren } = this;\n      const { parent, index } = this.getParentAndIndex(path);\n      let parentChildren;\n      if (path.length === 1) {\n        // fix data\n        if (!rootChildren) {\n          if (this.data) {\n            this.data[childrenKey] = [];\n          } else {\n            this.data = [];\n          }\n        }\n        parentChildren = rootChildren;\n      } else {\n        if (!parent[childrenKey]) {\n          parent[childrenKey] = [];\n        }\n        parentChildren = parent[childrenKey];\n      }\n      parentChildren[index] = node;\n    }\n  }\n  delete(path: TreeDataPath): Node | undefined {\n    const { childrenKey, rootChildren } = this;\n    const { parent, index } = this.getParentAndIndex(path);\n    const parentChildren =\n      path.length === 1 ? rootChildren : parent[childrenKey];\n    const node = parentChildren[index];\n    parentChildren.splice(index, 1);\n    return node;\n  }\n  walk(handler: WalkTreeDataHandler<Node>, opt?: { reverse?: boolean }) {\n    const { childrenKey, data } = this;\n    // @ts-ignore\n    return walkTreeData(data, handler, childrenKey, opt);\n  }\n  clone(\n    opt: {\n      nodeHandler?: CloneTreeNodeHandler<Node>;\n    } = {}\n  ) {\n    cloneTreeData;\n    return (\n      cloneTreeData(this.data),\n      withoutUndefined({\n        childrenKey: this.childrenKey,\n        nodeHandler: opt.nodeHandler || undefined,\n      })\n    );\n  }\n}\n\n// ## function\n// ## 函数\n\n/**\n * if it is function, return result, else return it directly.\n * @param valueOrGetter\n * @param args\n * @returns\n */\nexport function resolveValueOrGettter(valueOrGetter, args = []) {\n  if (isFunction(valueOrGetter)) {\n    return valueOrGetter(...args);\n  } else {\n    return valueOrGetter;\n  }\n}\n\n/**\n * add executed count as first argument of func\n * 增加执行次数作为方法的第一个参数\n * @param func\n * @returns\n */\nexport function executeWithCount<T>(func: T) {\n  let count = 0;\n  function wrapper(...args) {\n    // @ts-ignore\n    return func.call(this, count++, ...args);\n  }\n  return wrapper as OmitFirstParameter<T>;\n}\n\n/**\n * (getVal, handler) => update . when execute update, call getVal and check if changed.\n * (getVal, handler) => update . 执行update时, 调用getVal并检查结果是否改变.\n * @param getVal\n * @param handler\n * @returns\n */\nexport function watchChange<T>(\n  getVal: ReplaceReturnType<OmitFirstParameter<T>, any>,\n  handler: T\n) {\n  let oldVal;\n  const update = (...args) => {\n    // @ts-ignore\n    const newVal = getVal(...args);\n    if (oldVal !== newVal) {\n      // @ts-ignore\n      handler(newVal, ...args);\n    }\n    oldVal = newVal;\n  };\n  return update as OmitFirstParameter<T>;\n}\n\nexport function debounceTrailing<T>(action: T, wait = 0) {\n  let t;\n  let lastArgs; // when trailing, use last args\n  let resolves = [];\n  let rejects = [];\n  const wrappedAction = function (...args) {\n    return new Promise((resolve, reject) => {\n      resolves.push(resolve);\n      rejects.push(reject);\n      //\n      lastArgs = args;\n      if (t) {\n        clearTimeout(t);\n      }\n      t = setTimeout(() => {\n        // @ts-ignore\n        const result = action.call(this, ...lastArgs);\n        t = null;\n        resolves.forEach((resolve) => resolve(result));\n        resolves = [];\n        rejects = [];\n      }, wait);\n    });\n  };\n  const stop = () => {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n    resolves = [];\n    rejects.forEach((reject) => reject());\n    rejects = [];\n  };\n  // @ts-ignore\n  return { action: wrappedAction as T, stop };\n}\n\nexport function debounceImmediate<T>(action: T, wait = 0) {\n  let t;\n  let delaying;\n  let result;\n  const wrappedAction = function (...args) {\n    return new Promise((resolve, reject) => {\n      if (delaying) {\n        resolve(result);\n      } else {\n        delaying = true;\n        // @ts-ignore\n        result = action.call(this, ...lastArgs);\n        resolve(result);\n        t = setTimeout(() => {\n          t = null;\n          delaying = false;\n          result = null;\n        }, wait);\n      }\n    });\n  };\n  const stop = () => {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n    delaying = false;\n  };\n  // @ts-ignore\n  return { action: wrappedAction as T, stop };\n}\n\n/**\n * the returned function only accept one argument\n * @param funcs\n * @returns\n */\nexport function joinFunctionsByResult(funcs: any[]) {\n  let wrappedFunc = funcs[0];\n  for (let i = 1; i < funcs.length; i++) {\n    wrappedFunc = join2func(wrappedFunc, funcs[i]);\n  }\n  return wrappedFunc;\n  function join2func(func1, func2) {\n    return function (arg) {\n      const result1 = func1(arg);\n      return func2(result1);\n    };\n  }\n}\n\n/**\n * apply finally function to a function, execute it after target return, event it error\n * 在目标方法结束或出错后执行另一方法\n * @param func\n * @param finallyFunc\n * @returns\n */\nexport function applyFinally<T extends Function, Y extends Function>(\n  func: T,\n  finallyFunc: Y\n) {\n  const wrapped = function (...args) {\n    let r, e;\n    try {\n      r = func(...args);\n    } catch (error) {\n      e = error;\n    } finally {\n      finallyFunc();\n    }\n    if (!e) {\n      return r;\n    } else {\n      throw e;\n    }\n  };\n  // @ts-ignore\n  return wrapped as T;\n}\n\n/**\n * must pass arguments to `next` manually\n * @param funcs\n * @returns\n */\nexport function joinFunctionsByNext(funcs: any[]) {\n  let next = () => {};\n  for (const { value: func } of iterateAll(funcs, { reverse: true })) {\n    const currentNext = next;\n    next = wrapFuncWithNext(func, currentNext);\n  }\n  return next;\n  function wrapFuncWithNext(func, next) {\n    return function (...args) {\n      return func(next, ...args);\n    };\n  }\n}\n\n/**\n * wrap function, bind context(this).\n * @param action\n * @param context\n * @returns\n */\nexport function bindContext<T extends Function>(action: T, context: any): T {\n  const wrapped = function (...args: any) {\n    return action.apply(context, args);\n  };\n  // @ts-ignore\n  return wrapped;\n}\n\n/**\n * Cache function return by arguments\n * @param func\n * @returns\n */\nexport function cacheFunction<T extends Function>(\n  func: T,\n  options: { capacity?: number } = {}\n) {\n  const cachedArgsArr = [];\n  let map: ArrayKeyMap<any>;\n  const defaultValue = {};\n  let noArgsCache = defaultValue;\n  const wrapped = function (...args: any[]) {\n    if (args.length === 0) {\n      if (noArgsCache === defaultValue) {\n        noArgsCache = func();\n      }\n      return noArgsCache;\n    }\n    if (!map) {\n      map = new ArrayKeyMap();\n    }\n    if (!map.has(args)) {\n      map.set(args, func(...args));\n      if (options.capacity != null) {\n        cachedArgsArr.push(args);\n        const removed = cachedArgsArr.splice(\n          0,\n          cachedArgsArr.length - options.capacity\n        );\n        for (const args of removed) {\n          map.delete(args);\n        }\n      }\n    }\n    return map.get(args);\n  };\n  const clearCache = () => {\n    map = null;\n    cachedArgsArr.splice(0, cachedArgsArr.length);\n  };\n  return {\n    // @ts-ignore\n    action: wrapped as T,\n    clearCache,\n  };\n}\n\n// ## promise\n\n/**\n * execute promise in sequence\n * @param getters\n * @param concurrent\n * @returns\n */\nexport function executePromiseGetters(getters: (() => any)[], concurrent = 1) {\n  let stopped;\n  const promise = new Promise(async function (resolve, reject) {\n    const chunks = splitArray(getters, concurrent);\n    const promises = [];\n    for (const chunk of chunks) {\n      const chunkPromises = chunk.map((v) => v());\n      promises.push(...chunkPromises);\n      await Promise.all(chunkPromises);\n      if (stopped) {\n        break;\n      }\n    }\n    Promise.all(promises).then((...args) => {\n      resolve(...args);\n    });\n  });\n  return {\n    promise,\n    stop() {\n      stopped = true;\n    },\n  };\n}\n\nexport function promiseTimeout<T>(promise: Promise<T>, timeout: number) {\n  return new Promise((resolve, reject) => {\n    let t, rejected;\n    promise.then(\n      (...args) => {\n        clearTimeout(t);\n        resolve(...args);\n      },\n      (...args) => {\n        if (!rejected) {\n          clearTimeout(t);\n          reject(...args);\n        }\n      }\n    );\n    t = setTimeout(() => {\n      rejected = true;\n      const e = new Error(\"Promise timeout!\");\n      e.name = \"timeout\";\n      reject(e);\n    }, timeout);\n  });\n}\n\nexport function promisePin<T, E>() {\n  let resolve: (arg: T) => void, reject: (error: E) => void;\n  const promise = new Promise<T>((resolve2, reject2) => {\n    resolve = resolve2;\n    reject = reject2;\n  });\n  return { promise, resolve, reject };\n}\n\n/**\n * warp continuous Promise method, such as mousemove handler\n * @param method\n * @param opt. strategy 'last': the wrapped method return empty if skipped\n */\nexport function continuous<\n  T extends (\n    info: { count: number; currentCount: { value: number } },\n    ...args: any[]\n  ) => any\n>(method: T, opt?: { strategy: \"every\" | \"last\"; resetCount?: boolean }) {\n  // default options\n  if (!opt) {\n    // @ts-ignore\n    opt = {};\n  }\n  objectAssignIfNoKey(opt, {\n    strategy: \"every\",\n  });\n  //\n  type Args = ParametersWithoutFirst<T>;\n  const queue: {\n    count: number;\n    args: Args;\n    done: ReturnType<typeof promisePin>;\n    skipped?: boolean;\n  }[] = [];\n  let working = false;\n  const currentCount = { value: 0 };\n  return async function (...args: Args) {\n    currentCount.value++;\n    const count = currentCount.value;\n    const done = promisePin();\n    queue.push({ count, args, done });\n    if (!working) {\n      working = true;\n      task();\n    }\n    return done.promise as Promise<ReturnType<T> | void>;\n  };\n  async function task() {\n    if (opt.strategy === \"every\") {\n      while (queue.length > 0) {\n        const { count, args, done } = queue.shift();\n        let r = method({ count, currentCount }, ...args);\n        try {\n          await r;\n        } catch (error) {\n        } finally {\n          done.resolve(r);\n        }\n      }\n    } else if (opt.strategy === \"last\") {\n      let currentIndex = -1;\n      while (\n        queue.length > 0 &&\n        (currentIndex === -1 || queue.length - 1 > currentIndex)\n      ) {\n        currentIndex = queue.length - 1;\n        const item = queue[currentIndex];\n        const { count, args, done } = item;\n        let r = method({ count, currentCount }, ...args);\n        try {\n          await r;\n        } catch (error) {\n        } finally {\n          done.resolve(r);\n          item.skipped = false;\n        }\n      }\n      for (let index = currentIndex - 1; index >= 0; index--) {\n        const item = queue[index];\n        // skip before last\n        if (!item || item.skipped != null) {\n          continue;\n        } else {\n          item.skipped = true;\n          // @ts-ignore\n          item.done.resolve();\n        }\n      }\n      queue.splice(0, queue.length);\n    }\n    if (opt.resetCount) {\n      currentCount.value = 0;\n    }\n    working = false;\n  }\n}\nexport const promiseContinuous = continuous;\n\n// ## url\n\nexport function getUrlParam(par: string) {\n  // 获取当前URL\n  var local_url = document.location.href;\n  // 获取要取得的get参数位置\n  var get = local_url.indexOf(par + \"=\");\n  if (get == -1) {\n    return false;\n  }\n  // 截取字符串\n  var get_par = local_url.slice(par.length + get + 1);\n  // 判断截取后的字符串是否还有其他get参数\n  var nextPar = get_par.indexOf(\"&\");\n  if (nextPar != -1) {\n    get_par = get_par.slice(0, nextPar);\n  }\n  return get_par;\n}\n\nexport function pathJoin(p1: string, p2: string) {\n  if (!p2) {\n    return p1;\n  }\n  if (!p1 || p2.match(/^\\w+:/)) {\n    return p2;\n  }\n  if (p1 && !p1.endsWith(\"/\")) {\n    p1 = p1 + \"/\";\n  }\n  if (p1 && p2.startsWith(\"/\")) {\n    p2 = p2.substring(1);\n  }\n  return p1 + p2;\n}\n\n// ## dom\n\n/**\n * return NodeList if there are multiple top-level nodes\n * @param htmlString\n * @returns\n */\nexport function createElementFromHTML(htmlString: string) {\n  var div = document.createElement(\"div\");\n  div.innerHTML = htmlString.trim();\n  if (div.childNodes.length > 1) {\n    return div.childNodes;\n  } else {\n    return div.childNodes[0];\n  }\n}\n\n/**\n * NOT RECOMMEND. Use Node.contains instead.\n */\nexport function isDescendantOf(el: Node, parent: Node) {\n  while (true) {\n    if (el.parentNode == null) {\n      return false;\n    } else if (el.parentNode === parent) {\n      return true;\n    } else {\n      el = el.parentNode;\n    }\n  }\n}\n\nexport function pointIn(x: number, y: number, element: Element | Node) {\n  const rect = getBoundingClientRect(element as Element);\n  return (\n    x >= rect.x &&\n    x <= rect.x + rect.width &&\n    y >= rect.y &&\n    y <= rect.y + rect.height\n  );\n}\n\nexport function removeEl(el: Node | Node) {\n  if (el.parentNode !== null) {\n    return el.parentNode.removeChild(el);\n  }\n}\n\n/**\n * get page root scroll(body or documentElement). refer: https://stackoverflow.com/questions/871399/cross-browser-method-for-detecting-the-scrolltop-of-the-browser-window\n * @returns\n */\nexport function getScroll() {\n  if (typeof pageYOffset != \"undefined\") {\n    //most browsers except IE before #9\n    return {\n      top: pageYOffset,\n      left: pageXOffset,\n    };\n  } else {\n    var B = document.body; //IE 'quirks'\n    var D = document.documentElement; //IE with doctype\n    D = D.clientHeight ? D : B;\n    return {\n      top: D.scrollTop,\n      left: D.scrollLeft,\n    };\n  }\n}\n\n/**\n * relative to page root element(document.documentElement). refer: https://gist.github.com/aderaaij/89547e34617b95ac29d1\n * 相对于页面根元素.(document.documentElement)\n * @param el\n * @returns\n */\nexport function getOffset(el: Element) {\n  const rect = getBoundingClientRect(el);\n  const t = getBoundingClientRect(document.documentElement);\n\n  return {\n    x: rect.left - t.left,\n    y: rect.top - t.top,\n  };\n}\n\n/**\n * there is some trap in el.offsetParent, so use this func to fix\n * @param el\n * @returns\n */\nexport function getOffsetParent(el: HTMLElement) {\n  let offsetParent = el.offsetParent;\n  if (\n    !offsetParent ||\n    (offsetParent === document.body &&\n      getComputedStyle(document.body).position === \"static\")\n  ) {\n    offsetParent = document.body.parentElement;\n  }\n  return offsetParent as HTMLElement;\n}\n\n/**\n * get el current position. like jQuery.position. The position is relative to offsetParent viewport left top. it is for set absolute position, absolute position is relative to offsetParent viewport left top.\n * 相对于offsetParent可视区域左上角(el.offsetLeft或top包含父元素的滚动距离, 所以要减去). position一般用于设置绝对定位的情况, 而绝对定位就是以可视区域左上角为原点.\n * @param el\n * @returns\n */\nexport function getPosition(el: HTMLElement) {\n  const offsetParent = getOffsetParent(el);\n  const ps = { x: el.offsetLeft, y: el.offsetTop };\n  let parent = el;\n  while (true) {\n    parent = parent.parentElement;\n    if (parent === offsetParent || !parent) {\n      break;\n    }\n    ps.x -= parent.scrollLeft;\n    ps.y -= parent.scrollTop;\n  }\n  return ps;\n}\n\n/**\n * like jQuery.offset(x, y), but it just return cmputed position, don't update style\n * 类似 jQuery.offset的设置功能, 但是它只返回计算的position, 不改变元素样式.\n * @param el\n * @param of\n * @returns\n */\nexport function getPositionFromOffset(\n  el: HTMLElement,\n  of: { x: number; y: number }\n) {\n  const offsetParent = getOffsetParent(el);\n  const parentOf = getOffset(offsetParent);\n  return {\n    x: of.x - parentOf.x,\n    y: of.y - parentOf.y,\n  };\n}\n\n/**\n * relative to viewport. like position fixed. alias getViewportPosition\n * 相对于视口. 类似 position fixed. 别名 getViewportPosition\n * @param el\n * @returns\n */\nexport function getBoundingClientRect(el: Element) {\n  // refer: http://www.51xuediannao.com/javascript/getBoundingClientRect.html\n  let xy = el.getBoundingClientRect();\n  if (document.documentElement.clientTop > 0) {\n    const top = xy.top - document.documentElement.clientTop, //document.documentElement.clientTop 在IE67中始终为2，其他高级点的浏览器为0\n      bottom = xy.bottom,\n      left = xy.left - document.documentElement.clientLeft, //document.documentElement.clientLeft 在IE67中始终为2，其他高级点的浏览器为0\n      right = xy.right,\n      width = xy.width || right - left, //IE67不存在width 使用right - left获得\n      height = xy.height || bottom - top;\n    const x = left;\n    const y = top;\n    const json = { top, right, bottom, left, width, height, x, y };\n    xy = { ...json, toJSON: () => json };\n  }\n  return xy;\n}\n\n// refer [getBoundingClientRect](#getBoundingClientRect)\nexport const getViewportPosition = getBoundingClientRect;\nexport type ViewportPosition = ReturnType<typeof getViewportPosition>;\n\n/**\n * position fixed is not always related to viewport.\n * position fixed不总是相对于视口.\n * 参考/Check: https://developer.mozilla.org/en-US/docs/Web/CSS/position\n * @param el\n * @param viewportPosition\n */\nexport function viewportPositionToFixed(\n  el: Node,\n  viewportPosition: { x: number; y: number }\n) {\n  const div = document.createElement(\"div\");\n  Object.assign(div.style, {\n    position: \"fixed\",\n    visibility: \"hidden\",\n    top: \"0px\",\n    left: \"0px\",\n  });\n  insertAfter(div, el);\n  const divVP = getViewportPosition(div);\n  const offset = { x: 0 - divVP.x, y: 0 - divVP.y };\n  return {\n    x: viewportPosition.x + offset.x,\n    y: viewportPosition.x + offset.y,\n  };\n}\n\nexport function findParent<T extends Element>(\n  el: T,\n  callback: (parentEl: Element) => boolean | \"break\" | undefined | void,\n  opt: { withSelf?: boolean; until?: Element; withUntil?: boolean } = {}\n) {\n  let cur = opt && opt.withSelf ? el : el.parentElement;\n  while (cur) {\n    const shouldBreak = opt.until && cur === opt.until;\n    if (shouldBreak && !opt.withUntil) {\n      return;\n    }\n    const r = callback(cur);\n    if (r === \"break\") {\n      return;\n    } else if (r) {\n      return cur;\n    } else if (shouldBreak) {\n      return;\n    } else {\n      cur = cur.parentElement;\n    }\n  }\n}\n\nexport function backupAttr(el: Element, name: string) {\n  const key = `original_${name}`;\n  el[key] = el.getAttribute(name);\n}\n\nexport function restoreAttr(el: Element, name: string) {\n  const key = `original_${name}`;\n  const value = el[key];\n  if (value == null) {\n    el.removeAttribute(name);\n  } else {\n    el.setAttribute(name, value);\n  }\n}\n\n// source: http://youmightnotneedjquery.com/\nexport function hasClass(el: Element, className: string) {\n  if (el.classList) {\n    return el.classList.contains(className);\n  } else {\n    return new RegExp(\"(^| )\" + className + \"( |$)\", \"gi\").test(el.className);\n  }\n}\n\n/**\n * has all classNames\n * @param el\n * @param classNames\n */\nexport function hasClasses(el: Element, classNames: string[]) {\n  for (const className of classNames) {\n    if (!hasClass(el, className)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * has any class in classNames\n * @param el\n * @param classNames\n * @returns\n */\nexport function hasClassIn(el: Element, classNames: string[]) {\n  for (const className of classNames) {\n    if (hasClass(el, className)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// source: http://youmightnotneedjquery.com/\nexport function addClass(el: Element, className: string | string[]) {\n  const t = toArrayIfNot(className);\n  for (const className of t) {\n    if (!hasClass(el, className)) {\n      if (el.classList) {\n        el.classList.add(className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n}\n\n// source: http://youmightnotneedjquery.com/\nexport function removeClass(el: Element, className: string | string[]) {\n  const t = toArrayIfNot(className);\n  for (const className of t) {\n    if (el.classList) {\n      el.classList.remove(className);\n    } else {\n      el.className = el.className.replace(\n        new RegExp(\n          \"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\",\n          \"gi\"\n        ),\n        \" \"\n      );\n    }\n  }\n}\n\nexport function getElSizeEvenInvisible(el: HTMLElement) {\n  backupAttr(el, \"style\");\n  el.style.display = \"block\";\n  const t = getBoundingClientRect(el);\n  const size = {\n    width: t.width,\n    height: t.height,\n  };\n  restoreAttr(el, \"style\");\n  return size;\n}\n\n/**\n * [isOffsetInEl]\n * @param {Number} x\n * @param {Number} y\n * @param {Object} el HTML Element\n */\nexport function isOffsetInEl(x: number, y: number, el: HTMLElement) {\n  const offset = getOffset(el);\n  return (\n    offset.x <= x &&\n    offset.x + el.offsetWidth >= x &&\n    offset.y <= y &&\n    offset.y + el.offsetHeight >= y\n  );\n}\n\nexport function setElChildByIndex(el: Node, child: Node, index: number) {\n  // @ts-ignore\n  child.childComponentIndex = index;\n  const len = el.childNodes.length;\n  if (len === 0) {\n    el.appendChild(child);\n  } else if (index === 0) {\n    el.insertBefore(child, el.childNodes[0]);\n  } else {\n    const {\n      index: nearestIndex,\n      value: nearest,\n      greater,\n    } = binarySearch(\n      // @ts-ignore\n      el.childNodes,\n      (el) => {\n        return el[\"childComponentIndex\"] - index;\n      },\n      {\n        start: 0,\n        end: notGreaterThan(index, len - 1),\n        returnNearestIfNoHit: true,\n      }\n    );\n    if (greater) {\n      // @ts-ignore\n      el.insertBefore(child, nearest);\n    } else {\n      const next = el.childNodes[nearestIndex + 1];\n      if (next) {\n        el.insertBefore(child, next);\n      } else {\n        el.appendChild(child);\n      }\n    }\n  }\n}\n\n/**\n * listen event on element\n * @param el\n * @param name\n * @param handler\n * @param options\n */\nexport function on<T extends Event>(\n  el: Node | Window | Document,\n  name: string,\n  handler: (event: T) => void,\n  options?: boolean | AddEventListenerOptions\n) {\n  if (el.addEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.addEventListener(name, handler, options);\n    // @ts-ignore\n  } else if (el.attachEvent) {\n    // IE 8 及更早 IE 版本\n    // @ts-ignore\n    el.attachEvent(`on${name}`, handler, options);\n  }\n}\n\n/**\n * cancel event lisitener on element\n * @param el\n * @param name\n * @param handler\n * @param options\n */\nexport function off<T extends Event>(\n  el: Node | Window | Document,\n  name: string,\n  handler: (event: T) => void,\n  options?: boolean | AddEventListenerOptions\n) {\n  if (el.removeEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.removeEventListener(name, handler, options);\n    // @ts-ignore\n  } else if (el.detachEvent) {\n    // IE 8 及更早 IE 版本\n    // @ts-ignore\n    el.detachEvent(`on${name}`, handler, options);\n  }\n}\n\n/**\n * listen event on element once. return destroy function\n * @param el\n * @param name\n * @param handler\n * @param options\n * @returns destroy\n */\nexport function once<T extends Event>(\n  el: Node | Window | Document,\n  name: string,\n  handler: (event: T) => void,\n  options?: boolean | AddEventListenerOptions\n) {\n  const onceHandler = function (...args) {\n    // @ts-ignore\n    let r = handler.call(this, ...args); // prettier-ignore\n    destroy();\n    return r;\n  };\n  on(el, name, onceHandler, options);\n  let destroied = false;\n  const destroy = () => {\n    if (!destroied) {\n      off(el, name, onceHandler, options);\n    }\n    destroied = true;\n  };\n  return destroy;\n}\n\n/**\n * lisiten multi events, and can stop and resume them. start listening by default. start is alias for resume\n * @param info\n * @returns\n */\nexport function extendedListen(\n  info: [\n    element: Element | Window | Document,\n    name: string,\n    handler: (event: any) => void,\n    options?: boolean | AddEventListenerOptions\n  ][]\n) {\n  let destroyFuncs = [];\n  const listenAll = () => {\n    if (r.listening) {\n      return;\n    }\n    for (const item of info) {\n      on.apply(this, item);\n      const destroy = () => off.apply(this, item);\n      destroyFuncs.push(destroy);\n    }\n    r.listening = true;\n  };\n  const destroyAll = () => {\n    if (!r.listening) {\n      return;\n    }\n    for (const destroy of destroyFuncs) {\n      destroy();\n    }\n    destroyFuncs = [];\n    r.listening = false;\n  };\n  const r = {\n    listening: false,\n    stop: destroyAll,\n    resume: listenAll,\n    start: listenAll,\n  };\n  r.start();\n  return r;\n}\n\nexport function getImageSizeByUrl(url: string) {\n  const image = document.createElement(\"img\");\n  return new Promise<{ width: number; height: number }>(function (\n    resolve,\n    reject\n  ) {\n    on(image, \"load\", () => {\n      resolve({ width: image.width, height: image.height });\n    });\n    on(image, \"error\", (e) => {\n      reject(e);\n    });\n    image.src = url;\n  });\n}\n\nexport function elementsFromPoint(x: number, y: number): Element[] {\n  const args = [x, y];\n  const func =\n    document.elementsFromPoint ||\n    // @ts-ignore\n    document.msElementsFromPoint ||\n    elementsFromPoint;\n  return func.apply(document, args);\n  function elementsFromPoint(x, y) {\n    const parents = [];\n    let parent = void 0;\n    do {\n      if (parent !== document.elementFromPoint(x, y)) {\n        parent = document.elementFromPoint(x, y);\n        parents.push(parent);\n        parent.style.pointerEvents = \"none\";\n        parent[\"_pointerEvents_backup\"] = parent.style.pointerEvents;\n      } else {\n        parent = false;\n      }\n    } while (parent);\n    parents.forEach(function (parent) {\n      return (parent.style.pointerEvents = parent[\"_pointerEvents_backup\"]);\n    });\n    return parents;\n  }\n}\n\nexport function getOuterAttachedHeight(\n  el: Element,\n  opt: { margin?: boolean; border?: boolean } = {}\n) {\n  opt = {\n    margin: true,\n    border: true,\n    ...opt,\n  };\n  const stl = getComputedStyle(el);\n  let r = 0;\n  const arr = [];\n  if (opt.margin) {\n    arr.push(\"margin-top\", \"margin-bottom\");\n  }\n  if (opt.border) {\n    arr.push(\"border-top-width\", \"border-bottom-width\");\n  }\n  arr.forEach((key) => {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n}\n\nexport function getOuterAttachedWidth(\n  el: Element,\n  opt: { margin?: boolean; border?: boolean } = {}\n) {\n  opt = {\n    margin: true,\n    border: true,\n    ...opt,\n  };\n  const stl = getComputedStyle(el);\n  let r = 0;\n  const arr = [];\n  if (opt.margin) {\n    arr.push(\"margin-left\", \"margin-right\");\n  }\n  if (opt.border) {\n    arr.push(\"border-left-width\", \"border-right-width\");\n  }\n  arr.forEach((key) => {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n}\n/**\n * like jquery $(el).css(), but only can read\n * @param el\n * @param name\n * @returns\n */\nexport function css(el: Element, name: string): string | undefined {\n  const stl = getComputedStyle(el);\n  return stl[name];\n}\n\nexport function cssNumber(el: Element, name: string) {\n  return parseFloat(css(el, name));\n}\n\nexport function isScrollable(el: Element, direction: \"x\" | \"y\") {\n  const key = \"overflow\" + direction.toUpperCase();\n  const values = [\"auto\", \"scroll\", \"overlay\"];\n  if (el === document.scrollingElement) {\n    values.push(\"visible\");\n  }\n  return values.includes(css(el, key));\n}\n\n/**\n * scrollLeft, scrollRight, scrollTop, scrollBottom.\n * IMPORTANT! The min value of  scrollRight and scrollBottom may be a float less than 1, not zero.\n * 重要! scrollRight和scrollBottom的最小值可能是小于1的小数, 而不是0.\n * @param el\n * @param direction\n * @returns\n */\nexport function getScrollSpace(\n  el: Element,\n  direction: \"left\" | \"right\" | \"top\" | \"bottom\"\n) {\n  let space: number;\n  if (direction === \"left\") {\n    space = el.scrollLeft;\n  } else if (direction === \"top\") {\n    space = el.scrollTop;\n  } else {\n    if (direction === \"right\") {\n      space = el.scrollWidth - el.clientWidth - el.scrollLeft;\n    } else {\n      // bottom\n      space = el.scrollHeight - el.clientHeight - el.scrollTop;\n    }\n  }\n  return space;\n}\n\n/* scroll to a positon with duration\nfrom https://gist.github.com/andjosh/6764939\ninterface options{\n  x: number // nullable. don't scroll horizontally when null\n  y: number // nullable. don't scroll vertically when null\n  duration: number // default 0\n  element: Node // default is the top scrollable element.\n  beforeEveryFrame: (count: number) => boolean|void // call before requestAnimationFrame execution. return false to stop\n}\nreturn stop\n*/\nexport function scrollTo(options: {\n  x?: number;\n  y?: number;\n  duration?: number;\n  element?: Element;\n  beforeEveryFrame?: (count: number) => boolean | void; // return false to stop\n}) {\n  if (!options.element) {\n    options.element = document.scrollingElement || document.documentElement;\n  }\n  if (options.duration == null) {\n    options.duration = 0;\n  }\n  const { x, y, duration, element } = options;\n  let requestAnimationFrameId;\n  let count = 0;\n  const startY = element.scrollTop,\n    changeY = y - startY,\n    startX = element.scrollLeft,\n    changeX = x - startX,\n    startDate = +new Date(),\n    animateScroll = function () {\n      if (\n        options.beforeEveryFrame &&\n        options.beforeEveryFrame(count) === false\n      ) {\n        return;\n      }\n      const currentDate = new Date().getTime();\n      const changedTime = currentDate - startDate;\n      if (y != null) {\n        element.scrollTop = parseInt(\n          calc(startY, changeY, changedTime, duration)\n        );\n      }\n      if (x != null) {\n        element.scrollLeft = parseInt(\n          calc(startX, changeX, changedTime, duration)\n        );\n      }\n      if (changedTime < duration) {\n        requestAnimationFrameId = requestAnimationFrame(animateScroll);\n      } else {\n        if (y != null) {\n          element.scrollTop = y;\n        }\n        if (x != null) {\n          element.scrollLeft = x;\n        }\n      }\n      count++;\n    };\n  const stop = () => {\n    cancelAnimationFrame(requestAnimationFrameId);\n  };\n  animateScroll();\n  // return stop\n  return stop;\n  function calc(startValue, changeInValue, changedTime, duration) {\n    return startValue + changeInValue * (changedTime / duration);\n  }\n}\n\n// ### DOM structure\nexport function insertBefore(el: Node, target: Node) {\n  target.parentElement.insertBefore(el, target);\n}\nexport function insertAfter(el: Node, target: Node) {\n  target.parentElement.insertBefore(el, target.nextSibling);\n}\nexport function prependTo(el: Node, target: Node) {\n  target.insertBefore(el, target.firstChild);\n}\nexport function appendTo(el: Node, target: Node) {\n  target.appendChild(el);\n}\n\n// ## Date\n\nexport function cloneDate(dateObj: Date) {\n  return new Date(dateObj.getTime());\n}\n\n// day and date is same\nexport function addDate(\n  dateObj: Date,\n  n: number,\n  type:\n    | \"year\"\n    | \"month\"\n    | \"day\"\n    | \"date\"\n    | \"hour\"\n    | \"minute\"\n    | \"second\"\n    | \"millisecond\"\n) {\n  if (![\"year\", \"month\", \"day\", \"date\"].includes(type)) {\n    type += \"s\";\n  }\n  let type2 = studlyCase(type);\n  if (type2 === \"Day\") {\n    type2 = \"Date\";\n  }\n  var setFuncName = \"set\" + type2;\n  var getFuncName = \"get\" + type2;\n  dateObj[setFuncName](dateObj[getFuncName]() + n);\n  return dateObj;\n}\n\nexport function getMonthStart(dateObj: Date) {\n  const clonedObj = cloneDate(dateObj);\n  clonedObj.setDate(1);\n  return clonedObj;\n}\n\nexport function getMonthEnd(dateObj: Date) {\n  const r = cloneDate(dateObj);\n  addDate(r, 1, \"month\");\n  r.setDate(0);\n  return r;\n}\n\nexport type GetCalendarDay = {\n  year: number;\n  month: number;\n  date: number;\n  text: number;\n  prevMonth?: boolean;\n  currentMonth?: boolean;\n  nextMonth?: boolean;\n};\n/**\n * startWeekDay: 0 is Sunday\n * @param year\n * @param month\n * @param startWeekDay\n * @returns [GetCalendarDay x 7][]\n */\nexport function getCalendar(\n  year: number,\n  month: number,\n  startWeekDay = 0\n): GetCalendarDay[][] {\n  const results = [];\n  const date = new Date(year, month - 1);\n  year = date.getFullYear();\n  month = date.getMonth() + 1;\n  const monthStart = getMonthStart(date);\n  const monthStartDay = monthStart.getDay();\n  const calendarStart = addDate(\n    cloneDate(monthStart),\n    -(monthStartDay + startWeekDay),\n    \"day\"\n  );\n  if (monthStartDay > startWeekDay) {\n    const startDate = calendarStart.getDate();\n    const year = calendarStart.getFullYear();\n    const month = calendarStart.getMonth() + 1;\n    for (let i = startWeekDay; i < monthStartDay; i++) {\n      const date = startDate + i;\n      results.push({\n        year,\n        month,\n        date: date,\n        text: date,\n        prevMonth: true,\n      });\n    }\n  }\n  //\n  const monthEnd = getMonthEnd(date);\n  const monthEndtDate = monthEnd.getDate();\n  for (let i = 1; i <= monthEndtDate; i++) {\n    const date = i;\n    results.push({\n      year: year,\n      month: month,\n      date,\n      text: date,\n      currentMonth: true,\n    });\n  }\n  //\n  const monthEndDay = monthEnd.getDay();\n  const endWeekDay = 6 - startWeekDay;\n  if (monthEndDay < endWeekDay) {\n    const nextMonth = addDate(cloneDate(date), 1, \"month\");\n    const year = nextMonth.getFullYear();\n    const month = nextMonth.getMonth() + 1;\n    for (let i = monthEndDay + 1, date = 1; i <= endWeekDay; i++, date++) {\n      results.push({\n        year: year,\n        month: month,\n        date: date,\n        text: date,\n        nextMonth: true,\n      });\n    }\n  }\n  //\n  return splitArray(results, 7);\n}\n\n/**\n * timezone must be UTC. eg: 2018-09-07T03:38:37.888Z\n * @param str\n * @returns\n */\nexport function isIsoFormat(str: string) {\n  return Boolean(\n    str.length > 15 && str.length < 30 && str.match(/^\\d{4}-\\d{2}-\\d{2}T.*Z$/)\n  );\n}\n\n/**\n *\n * @param timestamp eg: 2018-09-07T03:38:37.888Z\n * @returns\n */\nexport function parseISO(timestamp: string) {\n  const [datePart, timePart] = timestamp.split(\"T\");\n  let y,\n    m,\n    d,\n    h = 0,\n    min = 0,\n    s = 0;\n  [y, m, d] = datePart.split(\"-\").map((v) => parseInt(v));\n  m = m - 1;\n  if (timePart) {\n    const t = timePart.split(\":\").map((v) => parseFloat(v));\n    h = t[0];\n    if (t[1] != null) {\n      min = t[1];\n    }\n    if (t[2] != null) {\n      s = t[2];\n    }\n  }\n  const dt = new Date();\n  dt.setUTCFullYear(y);\n  dt.setUTCMonth(m);\n  dt.setUTCDate(d);\n  dt.setUTCHours(h);\n  dt.setUTCMinutes(min);\n  dt.setUTCSeconds(s);\n  return dt;\n}\n\n// ## advanced\n\nexport type BinarySearchReturn<T> = {\n  index: number;\n  value: T;\n  count: number;\n  hit: boolean;\n  greater?: boolean;\n} | null;\nexport interface BinarySearchOptions {\n  start?: number;\n  end?: number;\n  returnNearestIfNoHit?: boolean;\n  maxTimes?: number;\n}\n/**\n * binarySearch, 二分查找\n * @param arr\n * @param callback return `mid - your_value` for ascending array\n * @param opt\n * @returns\n */\nexport function binarySearch<T>(\n  arr: T[],\n  callback: (mid: T, index: number, count: number) => number,\n  opt: BinarySearchOptions = {}\n): BinarySearchReturn<T> {\n  opt = {\n    start: 0,\n    end: arr.length - 1,\n    maxTimes: 1000,\n    ...opt,\n  };\n  let { start, end } = opt;\n  const { returnNearestIfNoHit, maxTimes } = opt;\n  let midNum;\n  let mid;\n  if (start == null) {\n    start = 0;\n    end = arr.length - 1;\n  }\n  let i = 0;\n  let r;\n  while (start >= 0 && start <= end) {\n    if (i >= maxTimes) {\n      throw Error(\n        `binarySearch: loop times is over ${maxTimes}, you can increase the limit.`\n      );\n    }\n    midNum = Math.floor((end - start) / 2 + start);\n    mid = arr[midNum];\n    const count = i + 1;\n    r = callback(mid, midNum, count);\n    if (r > 0) {\n      end = midNum - 1;\n    } else if (r < 0) {\n      start = midNum + 1;\n    } else {\n      return { index: midNum as number, value: mid as T, count, hit: true };\n    }\n    i++;\n  }\n  return returnNearestIfNoHit\n    ? {\n        index: midNum as number,\n        value: mid as T,\n        count: i + 1,\n        hit: false,\n        greater: r > 0,\n      }\n    : null;\n}\n\n//\nexport function windowLoaded() {\n  return new Promise<void>(function (resolve, reject) {\n    if (document && document.readyState === \"complete\") {\n      resolve();\n    } else {\n      window.addEventListener(\"load\", function once() {\n        resolve();\n        window.removeEventListener(\"load\", once);\n      });\n    }\n  });\n}\n\nexport function waitTime(milliseconds: number, callback?: () => void) {\n  return new Promise<void>(function (resolve, reject) {\n    setTimeout(function () {\n      callback && callback();\n      resolve();\n    }, milliseconds);\n  });\n}\n\nexport function waitFor(condition: () => boolean, time = 100, maxTimes = 1000) {\n  let interval;\n  const promise = new Promise<void>(function (resolve, reject) {\n    let count = 0;\n    function judge() {\n      if (count <= maxTimes) {\n        if (condition()) {\n          stop();\n          resolve();\n        }\n      } else {\n        stop();\n        reject(new Error(\"waitFor: Limit is reached\"));\n      }\n      count++;\n    }\n    interval = setInterval(function () {\n      judge();\n    }, time);\n    judge();\n  });\n  return { promise, stop };\n  function stop() {\n    clearInterval(interval);\n  }\n}\n\nexport async function retry(action: any, limitTimes = 3) {\n  for (let index = 1; index <= limitTimes; index++) {\n    try {\n      // @ts-ignore\n      return await action();\n    } catch (error) {\n      if (index === limitTimes) {\n        throw error;\n      }\n    }\n  }\n}\n\n/**\n * Copy to text to clipboard. Async not supported. Recommend clipboard-polyfill.\n * 复制文字到剪贴板. 仅限于简单使用, 不支持异步. 复杂环境推荐clipboard-polyfill\n * @param text\n * @returns\n */\nexport function copyTextToClipboard(text: string) {\n  try {\n    // use latest api\n    navigator.clipboard.writeText(text);\n    return;\n  } catch (e) {}\n  var textArea = document.createElement(\"textarea\");\n\n  //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = \"fixed\";\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = \"2em\";\n  textArea.style.height = \"2em\";\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = \"0\";\n\n  // Clean up any borders.\n  textArea.style.border = \"none\";\n  textArea.style.outline = \"none\";\n  textArea.style.boxShadow = \"none\";\n\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = \"transparent\";\n\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n\n  textArea.select();\n\n  try {\n    var successful = document.execCommand(\"copy\");\n    var msg = successful ? \"successful\" : \"unsuccessful\";\n    console.log(\"Copying text command was \" + msg);\n  } catch (err) {\n    console.log(\"Oops, unable to copy\");\n  }\n\n  document.body.removeChild(textArea);\n}\n\nexport function isWindowDefined() {\n  try {\n    return window && true;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport function isNode() {\n  // @ts-ignore\n  return Boolean(typeof glb().module !== \"undefined\" && glb().module.exports);\n}\n\nexport function isIE() {\n  // @ts-ignore\n  return Boolean(window.ActiveXObject || \"ActiveXObject\" in window);\n}\n\n/*\nhttps://developer.mozilla.org/docs/Web/API/Window/open\nhttp://www.w3school.com.cn/htmldom/met_win_open.asp#windowfeatures\n*/\nexport function openWindow(url: string, name: string, opt: any = {}) {\n  window.open(\n    url,\n    name,\n    Object.keys(opt)\n      .map((k) => `${k}=${opt[k]}`)\n      .join(\",\")\n  );\n}\n\nexport function openCenterWindow(\n  url: string,\n  name: string,\n  width: number,\n  height: number,\n  opt: any = {}\n) {\n  const t = {\n    width,\n    height,\n    top: (window.screen.availHeight - 30 - height) / 2,\n    left: (window.screen.availWidth - 30 - width) / 2,\n  };\n  Object.assign(t, opt);\n  openWindow(url, name, t);\n}\n\nexport function openPreviewWindow(\n  previewUrl: string,\n  name = \"preview\",\n  width = 1000,\n  height = 800\n) {\n  return openCenterWindow(previewUrl, name, width, height, {\n    directories: \"no\",\n    titlebar: \"no\",\n    toolbar: \"no\",\n    location: \"no\",\n    status: \"no\",\n    menubar: \"no\",\n  });\n}\n\nexport class URLHelper {\n  baseUrl = \"\"; // protocol, hostname, port, pastname\n  search: { [key: string]: string } = {};\n  constructor(baseUrl: string) {\n    let t = decodeURI(baseUrl).split(\"?\");\n    this.baseUrl = t[0];\n    if (t[1]) {\n      t[1].split(\"&\").forEach((v) => {\n        let t2 = v.split(\"=\");\n        this.search[t2[0]] = t2[1] == null ? \"\" : decodeURIComponent(t2[1]);\n      });\n    }\n  }\n  getHref() {\n    const t = [this.baseUrl];\n    let searchStr = Object.keys(this.search)\n      .map((k) => `${k}=${encodeURIComponent(this.search[k])}`)\n      .join(\"&\");\n    if (searchStr) {\n      t.push(searchStr);\n    }\n    return t.join(\"?\");\n  }\n}\n\n/* resolve arguments to help overload. 解析函数参数, 帮助重载\n```js\ntypes eg: ['Object', (i) => i > 3, ['Number', default], null ]\nnull represent all types of argument\nresolveArgsByType([1,'str'], ['Number', 'Boolean' ,'String']) -> [1, null, 'str']\nresolveArgsByType([1,'str'], ['Number', ['Boolean', true] ,'String']) -> [1, true, 'str']\n```\n*/\nexport function resolveArgsByType(args: any[], types: any[]) {\n  let argIndex = 0;\n  return types.map((v) => {\n    // make rule\n    let rule, dft;\n    if (isArray(v)) {\n      rule = v[0];\n      dft = v[1];\n    } else {\n      rule = v;\n      dft = undefined;\n    }\n    if (!isFunction(rule)) {\n      if (rule == null) {\n        rule = () => true;\n      } else {\n        const t = rule;\n        rule = (x) => Object.prototype.toString.call(x) === `[object ${t}]`;\n      }\n    }\n    const arg = args[argIndex];\n    if (rule(arg)) {\n      argIndex++;\n      return arg;\n    } else {\n      return dft;\n    }\n  });\n}\n\nexport function makeStorageHelper<T extends Storage>(storage: T) {\n  return {\n    storage: storage as T,\n    set(name: string, value: any, minutes: number) {\n      // set null can remove a item\n      if (value == null) {\n        this.storage.removeItem(name);\n      } else {\n        this.storage.setItem(\n          name,\n          JSON.stringify({\n            value,\n            expired_at: minutes\n              ? new Date().getTime() + minutes * 60 * 1000\n              : null,\n          })\n        );\n      }\n    },\n    get(name: string) {\n      let t = this.storage.getItem(name);\n      if (t) {\n        t = JSON.parse(t);\n        if (!t.expired_at || t.expired_at > new Date().getTime()) {\n          return t.value;\n        } else {\n          this.storage.removeItem(name);\n        }\n      }\n      return null;\n    },\n    clear() {\n      this.storage.clear();\n    },\n  };\n}\n\nexport const extendedLocalStorage = cacheFunction(function () {\n  return makeStorageHelper(localStorage);\n});\n\nexport const extendedSessionStorage = cacheFunction(function () {\n  return makeStorageHelper(sessionStorage);\n});\n\n/**\n * Base event process. like event bus\n * 事件处理. 类似event bus\n */\nexport class EventProcessor {\n  eventStore = [];\n  on(name: string, handler: any) {\n    this.eventStore.push({ name, handler });\n  }\n  once(name: string, handler: any) {\n    const off = () => {\n      this.off(name, wrappedHandler);\n    };\n    const wrappedHandler = (...args) => {\n      handler(...args);\n      off();\n    };\n    this.on(name, wrappedHandler);\n    return off;\n  }\n  onceTimeout(name: string, handler: any, timeout: number) {\n    let off;\n    const promise = new Promise<void>((resolve, reject) => {\n      const wrappedHandler = (...args) => {\n        handler(...args);\n        resolve();\n      };\n      off = this.once(name, wrappedHandler);\n      waitTime(timeout).then(() => {\n        off();\n        reject();\n      });\n    });\n    const off2 = () => {\n      off && off();\n    };\n    return { off: off2, promise };\n  }\n  off(name: string, handler: any) {\n    const indexes = []; // to remove indexes; reverse; 倒序的\n    const len = this.eventStore.length;\n    for (let i = 0; i < len; i++) {\n      const item = this.eventStore[i];\n      if (item.name === name && item.handler === handler) {\n        indexes.unshift(i);\n      }\n    }\n    for (const index of indexes) {\n      this.eventStore.splice(index, 1);\n    }\n  }\n  emit(name: string, ...args: any[]) {\n    // 重要: 先找到要执行的项放在新数组里, 因为执行项会改变事件项存储数组\n    const items = [];\n    for (const item of this.eventStore) {\n      if (item.name === name) {\n        items.push(item);\n      }\n    }\n    for (const item of items) {\n      item.handler(...args);\n    }\n  }\n}\n\n/**\n * Pass event cross window\n */\nexport class CrossWindowEventProcessor extends EventProcessor {\n  storageName = \"_crossWindow\";\n  windows = [];\n  timeout = 200;\n  id: string;\n  ready: Promise<void>;\n  // id\n  constructor(opt: { timeout?: number }) {\n    super();\n    if (opt) {\n      Object.assign(this, opt);\n    }\n    on(window, \"storage\", (ev: StorageEvent) => {\n      if (ev.key === this.storageName) {\n        const event = JSON.parse(ev.newValue);\n        if (!event.targets || event.targets.includes(this.id)) {\n          this.emitLocal(event.name, ...event.args);\n        }\n      }\n    });\n    // social parts 集体部分\n    // join\n    this.id = randString();\n    this.windows = [this.id];\n    this.ready = new Promise((resolve, reject) => {\n      this.onceTimeout(\n        \"_windows_updated\",\n        ({ windows }) => {\n          this.windows = windows;\n        },\n        this.timeout\n      ).promise.then(\n        () => {\n          resolve();\n          // responsed 被响应\n        },\n        () => {\n          // no response 无响应\n          resolve();\n        }\n      );\n      this.broadcast(\"_join\", this.id);\n    });\n    this.ready.then(() => {\n      // on join\n      this.on(\"_join\", (id) => {\n        this.windows.push(id);\n        if (this.isMain()) {\n          this.broadcast(\"_windows_updated\", {\n            windows: this.windows,\n            type: \"join\",\n            id,\n          });\n        }\n      });\n      // on _windows_updated\n      this.on(\"_windows_updated\", ({ windows }) => {\n        this.windows = windows;\n      });\n      // on exit\n      this.on(\"_exit\", (id) => {\n        const oldMain = this.windows[0];\n        arrayRemove(this.windows, id);\n        if (this.isMain()) {\n          this.emit(\"_windows_updated\", {\n            windows: this.windows,\n            type: \"exit\",\n            id,\n          });\n          if (oldMain != this.id) {\n            this.emit(\"_main_updated\", {\n              windows: this.windows,\n              old: oldMain,\n              new: this.id,\n            });\n          }\n        }\n      });\n      on(window, \"beforeunload\", () => {\n        this.exitGroup();\n      });\n    });\n  }\n  isMain() {\n    return this.id === this.windows[0];\n  }\n  BROADCAST = \"__BROADCAST__\";\n  emitTo(name: string, targets, ...args) {\n    if (targets === this.BROADCAST) {\n      targets = null;\n    } else {\n      if (targets && !isArray(targets)) {\n        targets = [targets];\n      }\n      if (targets.includes(this.id)) {\n        super.emit(name, ...args); // emit to current window\n      }\n    }\n    glb().localStorage.setItem(\n      this.storageName,\n      JSON.stringify({\n        name,\n        targets,\n        args,\n        // use random make storage event triggered every time\n        // 加入随机保证触发storage事件\n        random: Math.random(),\n      })\n    );\n  }\n  emitLocal(name: string, ...args) {\n    this.emitTo(name, this.id, ...args);\n  }\n  broadcast(name: string, ...args) {\n    this.emitTo(name, this.BROADCAST, ...args);\n  }\n  emit(name: string, ...args) {\n    this.emitTo(name, this.windows, ...args);\n  }\n  exitGroup() {\n    this.broadcast(\"_exit\", this.id);\n  }\n}\n\n/**\n * on continuous input. return destroy\n * 监听连续输入事件. 返回取消监听函数. 例如监听用户输入aa\n * @param handler\n * @param opt\n * @returns\n */\nexport function onContinuousInput(\n  handler: (input: string) => void,\n  opt: { timeout?: number } = {}\n) {\n  opt = {\n    timeout: 1000,\n    ...opt,\n  };\n  let input = \"\";\n  let timeoutId;\n  const keydownHandler = (e) => {\n    if (e.key && e.key.length === 1) {\n      input = `${input}${e.key}`;\n      handler(input);\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n      timeoutId = setTimeout(() => {\n        input = \"\";\n      }, opt.timeout);\n    }\n  };\n  on(document, \"keydown\", keydownHandler);\n  return () => {\n    off(document, \"keydown\", keydownHandler);\n  };\n}\n\n// refer [onContinuousInput](#onContinuousInput)\nexport const onQuickKeydown = onContinuousInput;\n\nexport function getUserLanguage(): string {\n  return navigator.language || navigator[\"userLanguage\"];\n}\n\nexport class Cache {\n  store = {};\n  has(name: string) {\n    return this.store.hasOwnProperty(name);\n  }\n  remember(name: string, getter: () => any) {\n    if (!this.has(name)) {\n      this.store[name] = {\n        value: getter(),\n      };\n    }\n    return this.store[name].value;\n  }\n  forget(name: string) {\n    if (name) {\n      if (this.has(name)) {\n        delete this.store[name];\n      }\n    } else {\n      this.store = {};\n    }\n  }\n}\n\n// attach cached getters to an object; can attach to self\nexport function attachCache(obj: any, toCache: object, cache = new Cache()) {\n  for (const key in toCache) {\n    const getter = toCache[key];\n    Object.defineProperty(obj, key, {\n      get() {\n        return cache.remember(key, () => getter.call(this));\n      },\n    });\n  }\n}\n\n// for animation\nexport function easeInOutQuad(\n  startValue: number,\n  changeInValue: number,\n  changedTime: number,\n  duration: number\n) {\n  let t = changedTime,\n    d = duration,\n    b = startValue,\n    c = changeInValue;\n  t /= d / 2;\n  if (t < 1) return (c / 2) * t * t + b;\n  t--;\n  return (-c / 2) * (t * (t - 2) - 1) + b;\n}\n\n// others\nexport function isMobile() {\n  var isMobile = false; //initiate as false\n  // device detection\n  if (\n    /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n      navigator.userAgent\n    ) ||\n    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n      navigator.userAgent.substring(0, 4)\n    )\n  ) {\n    isMobile = true;\n  }\n  return isMobile;\n}\n\nexport class Accumulate<T> {\n  arr: T[] = [];\n  cache: number[] = [];\n  constructor(arr: T[]) {\n    this.arr = arr;\n  }\n  getValue(item: T): number {\n    // @ts-ignore\n    return item;\n  }\n  sum(index: number) {\n    if (this.cache[index] == null) {\n      let prev = index > 0 ? this.sum(index - 1) : 0;\n      this.cache[index] = this.getValue(this.arr[index]) + prev;\n    }\n    return this.cache[index];\n  }\n}\n/**\n * from https://www.zhangxinxu.com/wordpress/2018/08/css-svg-background-image-base64-encode/\n * @param svgCode\n * @returns\n */\nexport function svgToDataURL(svgCode: string) {\n  return (\n    \"data:image/svg+xml,\" +\n    svgCode\n      .replace(/\"/g, \"'\")\n      .replace(/%/g, \"%25\")\n      .replace(/#/g, \"%23\")\n      .replace(/{/g, \"%7B\")\n      .replace(/}/g, \"%7D\")\n      .replace(/</g, \"%3C\")\n      .replace(/>/g, \"%3E\")\n  );\n}\n\nexport function genRandomLightColor() {\n  var letters = \"BCDEF\".split(\"\");\n  var color = \"#\";\n  for (var i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * letters.length)];\n  }\n  return color;\n}\n/**\n * Like Map, support array as key. array order is used.\n */\nexport class ArrayKeyMap<T> {\n  _map = new Map<any, [string, number]>();\n  _values: Record<string, [any[], T]> = {};\n  _objCount = 0;\n  _keysToString(keys: any[]): string | null {\n    const { _map } = this;\n    let t = [];\n    for (const key of keys) {\n      if (!_map.has(key)) {\n        return null;\n      }\n      t.push(_map.get(key)[0]);\n    }\n    return t.toString();\n  }\n  has(keys: any[]) {\n    if (this._keysToString(keys) == null) {\n      return false;\n    }\n    return true;\n  }\n  /**\n   * throw error if not found\n   * @param keys\n   * @returns\n   */\n  get(keys: any[]) {\n    const { _values } = this;\n    const key2 = this._keysToString(keys);\n    if (key2 == null) {\n      throw \"Value not found by specified keys\";\n    }\n    return _values[key2][1];\n  }\n  set(keys: any[], value: T) {\n    const { _map, _values } = this;\n    let t = [];\n    for (const key of keys) {\n      let str: string;\n      let count = 1;\n      if (_map.has(key)) {\n        [str, count] = _map.get(key);\n        count++;\n      } else {\n        this._objCount++;\n        str = this._objCount.toString();\n      }\n      _map.set(key, [str, count]);\n      t.push(str);\n    }\n    _values[t.toString()] = [keys.slice(), value];\n  }\n  delete(keys: any[]) {\n    const { _values, _map } = this;\n    const key2 = this._keysToString(keys);\n    if (key2 == null) {\n      throw \"Value not found by specified keys\";\n    }\n    delete _values[key2];\n    for (const key of keys) {\n      let [str, count] = _map.get(key);\n      count--;\n      if (count === 0) {\n        _map.delete(key);\n      } else {\n        _map.set(key, [str, count]);\n      }\n    }\n  }\n  clear() {\n    this._map.clear();\n    this._values = {};\n  }\n  *entries() {\n    const { _values } = this;\n    for (const key in _values) {\n      const [keys, value] = _values[key];\n      yield [keys, value];\n    }\n  }\n  count() {\n    return [...this.entries()].length;\n  }\n}\n\n// typescript\nexport type ParametersWithoutFirst<T extends (...args: any) => any> =\n  T extends (first: any, ...args: infer P) => any ? P : never;\n\n/**\n * Remove function's first parameter\n */\nexport type OmitFirstParameter<F> = F extends (\n  x: any,\n  ...args: infer P\n) => infer R\n  ? (...args: P) => R\n  : never;\n\nexport type ReplaceReturnType<T extends (...a: any) => any, TNewReturn> = (\n  ...a: Parameters<T>\n) => TNewReturn;\n\nexport type Nullable<T> = T | null;\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}"],"names":["_assertThisInitialized","self","ReferenceError","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_superPropBase","object","property","prototype","hasOwnProperty","call","_get","Reflect","get","target","receiver","base","superPropBase","desc","getOwnPropertyDescriptor","arguments","length","value","apply","this","_setPrototypeOf","p","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","TypeError","assertThisInitialized","_arrayLikeToArray","arr","len","i","arr2","Array","_unsupportedIterableToArray","minLen","arrayLikeToArray","n","toString","slice","name","from","test","_slicedToArray","isArray","arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","push","err","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","Promise","then","_asyncToGenerator","fn","args","undefined","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","_classCallCheck","instance","_defineProperty","_toConsumableArray","arrayWithoutHoles","iter","iterableToArray","nonIterableSpread","runtime","exports","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","keys","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","regenerator","require$$0","iterateAll","glb","window","global","v","isBool","isNumber","isObject","isFunction","randInt","min","max","Math","floor","random","randChoice","notLessThan","notGreaterThan","studlyCase","str","toUpperCase","substring","kebabCase","replace","toLowerCase","camelCase","temp","split","join","camelToWords","randString","seeds","r","arrayRemove","index","count","indexOf","splice","arrayLast","toArrayIfNot","arrOrNot","splitArray","getChunkLength","times","end","arrayFilter","without","filter","arrayWithout","val","opt","_i2","_Object$keys","_info","_i3","_info2","_i4","_keys","_key","_info3","_args","_regeneratorRuntime","_context","exclude","_marked","dotGet","path","throwError","paths","current","_step5","_iterator5","_createForOfIteratorHelper","s","e","f","assignIfNoKey","assignIfKeyNull","assignIfDiff","objectAssignIfNoKey","obj1","obj2","withoutUndefined","walkTreeData","handler","_opt","childrenKey","rootChildren","StopException","func","children","parent","parentPath","item","concat","childFirst","findInfoInTreeData","node","cloneTreeData","root","options","assign","nodeHandler","td","TreeData","newNode","oldNode","set","data","prevPath","prevChildren","_iterator6","_step6","currentPath","currentNode","list","_iterator7","_step7","_step7$value","path0","_path","_args2","_context2","t0","iteratePath","t1","_step8","all","_iterator8","getFamily","getParentAndIndex","parentChildren","_this$getParentAndInd","_this$getParentAndInd2","cacheFunction","map","cachedArgsArr","defaultValue","noArgsCache","wrapped","_len6","_key7","ArrayKeyMap","has","capacity","_step10","removed","_iterator10","delete","clearCache","action","promisePin","promise","resolve2","reject2","continuous","strategy","queue","working","currentCount","_callee2","_len7","_key8","_args5","_context4","task","_task","_callee3","_queue$shift","_args6","currentIndex","_count2","_args7","_done","_r","_item2","_context5","shift","skipped","resetCount","promiseContinuous","getOffset","el","rect","getBoundingClientRect","t","document","documentElement","x","left","y","top","getOffsetParent","offsetParent","body","getComputedStyle","position","parentElement","xy","clientTop","bottom","clientLeft","right","json","width","height","toJSON","getViewportPosition","backupAttr","getAttribute","restoreAttr","removeAttribute","setAttribute","hasClass","className","classList","contains","RegExp","on","addEventListener","attachEvent","off","removeEventListener","detachEvent","css","insertAfter","insertBefore","nextSibling","cloneDate","dateObj","Date","getTime","addDate","includes","type2","getFuncName","getMonthStart","clonedObj","setDate","getMonthEnd","binarySearch","callback","midNum","mid","_opt2","_objectSpread","start","maxTimes","_opt3","returnNearestIfNoHit","hit","greater","waitTime","milliseconds","setTimeout","_retry","_callee4","limitTimes","_args10","_context7","openWindow","url","open","k","openCenterWindow","screen","availHeight","availWidth","URLHelper","baseUrl","_this4","decodeURI","t2","search","decodeURIComponent","_this5","searchStr","encodeURIComponent","makeStorageHelper","storage","minutes","removeItem","setItem","JSON","stringify","expired_at","getItem","parse","clear","extendedLocalStorage","localStorage","extendedSessionStorage","sessionStorage","EventProcessor","eventStore","_this6","wrappedHandler","timeout","_this7","once","indexes","unshift","_i7","_indexes","_step18","items","_iterator18","_len9","_key10","_i8","_items","CrossWindowEventProcessor","_EventProcessor","subClass","superClass","_inherits","_super","_createSuper","_this8","ev","storageName","_this9","event","newValue","targets","id","emitLocal","windows","ready","onceTimeout","_ref3","broadcast","isMain","_ref4","oldMain","emit","old","new","exitGroup","_len10","_key11","_get2","BROADCAST","_len11","_key12","emitTo","_len12","_key13","_len13","_key14","onContinuousInput","timeoutId","input","keydownHandler","clearTimeout","onQuickKeydown","Cache","store","getter","Accumulate","cache","sum","getValue","Map","_step19","_map","_iterator19","_keysToString","_values","key2","_step20","_iterator20","_map$get2","_objCount","_step21","_iterator21","_map$get4","entries","_values$key","_context6","_step14","_iterator14","add","appendChild","finallyFunc","endIndex","arr1","_step","m1","m2","_iterator","_step2","_iterator2","r1","r2","diff","fill","getMark","Set","depth","rec","curentDepth","_step3","_iterator3","sortedIndexes","toCache","_loop3","_this10","remember","_len5","_key6","text","navigator","clipboard","writeText","textArea","createElement","style","padding","border","outline","boxShadow","background","select","msg","execCommand","console","log","removeChild","htmlString","div","innerHTML","trim","childNodes","parseFloat","delaying","wait","wrappedAction","_this2","lastArgs","resolves","rejects","_this","_len3","_key4","lastKey","startValue","changeInValue","changedTime","duration","elementsFromPoint","msElementsFromPoint","parents","elementFromPoint","pointerEvents","getters","stopped","concurrent","_ref","_callee","chunks","promises","_iterator11","_step11","chunk","chunkPromises","_context3","_x","_x2","_len","_key2","_this3","destroyFuncs","listenAll","listening","_step16","_iterator16","_loop2","_step17","_iterator17","destroy","resume","_step4","_iterator4","_step4$value","cur","withSelf","shouldBreak","until","withUntil","letters","color","offsets","year","month","startWeekDay","results","date","getFullYear","getMonth","monthStart","monthStartDay","getDay","calendarStart","startDate","getDate","prevMonth","monthEnd","monthEndtDate","currentMonth","monthEndDay","endWeekDay","nextMonth","display","size","image","src","margin","stl","ps","offsetLeft","offsetTop","scrollLeft","scrollTop","of","parentOf","pageYOffset","pageXOffset","B","D","clientHeight","direction","scrollWidth","clientWidth","scrollHeight","par","local_url","location","href","get_par","nextPar","language","groups","classNames","_step13","_iterator13","_step12","_iterator12","strOrArr","parentNode","Boolean","ActiveXObject","match","isMobile","userAgent","isFinite","offset","offsetWidth","offsetHeight","scrollingElement","funcs","_step9","_iterator9","wrapFuncWithNext","_len4","_key5","wrappedFunc","join2func","func1","func2","result1","rows1","rows2","key1","ignoreUnmatched","row","usedRows2","row2","limit","stack","_loop","newParent","canPush","newVal","toDelete","skip","_ret","idKey","targetObj","targetKey","sourceObj","sourceKey","keysSet","onceHandler","_len8","_key9","destroied","previewUrl","directories","titlebar","toolbar","status","menubar","timestamp","m","d","_timestamp$split2","datePart","timePart","h","_datePart$split$map2","parseInt","dt","setUTCFullYear","setUTCMonth","setUTCDate","setUTCHours","setUTCMinutes","setUTCSeconds","p1","p2","endsWith","startsWith","element","firstChild","rejected","_step15","_iterator15","remove","types","argIndex","rule","dft","valueOrGetter","_x3","requestAnimationFrameId","startY","changeY","startX","changeX","animateScroll","beforeEveryFrame","calc","requestAnimationFrame","cancelAnimationFrame","child","childComponentIndex","_binarySearch","nearestIndex","nearest","padString","svgCode","prop","viewportPosition","visibility","divVP","condition","interval","time","judge","setInterval","clearInterval","getVal","oldVal","_len2","_key3","readyState"],"mappings":"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"}